<router-outlet></router-outlet>
<p-toast></p-toast>
<div class="flex align-items-center justify-content-center h-screen"
     style="background: linear-gradient(237deg, rgba(194,42,240,1) 0%, rgba(38,0,255,1) 100%)">

  <p-card>
    <div class="inline-flex p-6">
      <div class="col flex align-items-center justify-content-center">
        <img src="assets/login-img.png" alt="login" class="w-5">
      </div>

      <div class="col flex align-items-center justify-content-center flex-column">
        <h1 class="text-2xl font-bold text-center">Iniciar sesión</h1>
        <form [formGroup]="formGroup" id="loginForm" class="mt-4">
          <div class="flex flex-column">
            <span class="p-input-filled my-2">
              <input id="username" formControlName="username" type="text" pInputText placeholder="Username"
                     class="p-3 border-round-3xl border-0 bg-gray-200" (keyup.enter)="sendLogin()">
            </span>
            @if (formGroup.controls['username'].invalid && formGroup.controls['username'].touched) {
              <p *ngIf="formGroup.controls['username'].errors?.required" class="text-red-500 text-xs m-0 ml-3">
                El usuario es obligatorio</p>
              <p *ngIf="formGroup.controls['username'].errors?.minlength" class="text-red-500 text-xs m-0 ml-3">
                Mínimo 3 caracteres</p>
              <p *ngIf="formGroup.controls['username'].errors?.maxlength" class="text-red-500 text-xs m-0 ml-3">
                Máximo 50 caracteres</p>
            }
            <span class="p-input-filled my-2">
              <input id="password" formControlName="password" type="password" pInputText placeholder="Password"
                 class="p-3 border-round-3xl border-0 bg-gray-200" (keyup.enter)="sendLogin()">
            </span>
            @if (formGroup.controls['password'].invalid && formGroup.controls['password'].touched) {
              <p *ngIf="formGroup.controls['password'].errors?.required" class="text-red-500 text-xs m-0 ml-3">
                La contraseña es obligatoria</p>
              <p *ngIf="formGroup.controls['password'].errors?.minlength" class="text-red-500 text-xs m-0 ml-3">
                Mínimo 3 caracteres</p>
              <p *ngIf="formGroup.controls['password'].errors?.maxlength" class="text-red-500 text-xs m-0 ml-3">
                Máximo 50 caracteres</p>
            }
          </div>
        </form>

        <div class="mt-4 w-full">
          <div class="flex align-items-center justify-content-center w-full">
            <p-button label="Iniciar sesión" (click)="sendLogin()" [rounded]="true"/>
          </div>
          <div class="flex align-items-center justify-content-center">
            <p-button label="Registrarse" [text]="true" severity="secondary" [rounded]="true" routerLink="/register"/>
          </div>
        </div>
      </div>


    </div>

  </p-card>
</div>
